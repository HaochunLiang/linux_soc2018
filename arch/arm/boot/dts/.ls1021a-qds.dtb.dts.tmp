# 1 "arch/arm/boot/dts/ls1021a-qds.dts"
# 1 "<built-in>"
# 1 "<command-line>"
# 1 "arch/arm/boot/dts/ls1021a-qds.dts"
# 48 "arch/arm/boot/dts/ls1021a-qds.dts"
/dts-v1/;
# 1 "arch/arm/boot/dts/ls1021a.dtsi" 1
# 48 "arch/arm/boot/dts/ls1021a.dtsi"
# 1 "arch/arm/boot/dts/skeleton64.dtsi" 1







/ {
 #address-cells = <2>;
 #size-cells = <2>;
 chosen { };
 aliases { };
 memory { device_type = "memory"; reg = <0 0 0 0>; };
};
# 49 "arch/arm/boot/dts/ls1021a.dtsi" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/interrupt-controller/arm-gic.h" 1
# 9 "./scripts/dtc/include-prefixes/dt-bindings/interrupt-controller/arm-gic.h"
# 1 "./scripts/dtc/include-prefixes/dt-bindings/interrupt-controller/irq.h" 1
# 10 "./scripts/dtc/include-prefixes/dt-bindings/interrupt-controller/arm-gic.h" 2
# 50 "arch/arm/boot/dts/ls1021a.dtsi" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/thermal/thermal.h" 1
# 51 "arch/arm/boot/dts/ls1021a.dtsi" 2

/ {
 compatible = "fsl,ls1021a";
 interrupt-parent = <&gic>;

 aliases {
  crypto = &crypto;
  ethernet0 = &enet0;
  ethernet1 = &enet1;
  ethernet2 = &enet2;
  serial0 = &lpuart0;
  serial1 = &lpuart1;
  serial2 = &lpuart2;
  serial3 = &lpuart3;
  serial4 = &lpuart4;
  serial5 = &lpuart5;
  sysclk = &sysclk;
 };

 cpus {
  #address-cells = <1>;
  #size-cells = <0>;

  cpu0: cpu@f00 {
   compatible = "arm,cortex-a7";
   device_type = "cpu";
   reg = <0xf00>;
   clocks = <&clockgen 1 0>;
   #cooling-cells = <2>;
  };

  cpu1: cpu@f01 {
   compatible = "arm,cortex-a7";
   device_type = "cpu";
   reg = <0xf01>;
   clocks = <&clockgen 1 0>;
   #cooling-cells = <2>;
  };
 };

 sysclk: sysclk {
  compatible = "fixed-clock";
  #clock-cells = <0>;
  clock-frequency = <100000000>;
  clock-output-names = "sysclk";
 };

 timer {
  compatible = "arm,armv7-timer";
  interrupts = <1 13 ((((1 << (2)) - 1) << 8) | 8)>,
        <1 14 ((((1 << (2)) - 1) << 8) | 8)>,
        <1 11 ((((1 << (2)) - 1) << 8) | 8)>,
        <1 10 ((((1 << (2)) - 1) << 8) | 8)>;
 };

 pmu {
  compatible = "arm,cortex-a7-pmu";
  interrupts = <0 138 4>,
        <0 139 4>;
 };

 soc {
  compatible = "simple-bus";
  #address-cells = <2>;
  #size-cells = <2>;
  device_type = "soc";
  interrupt-parent = <&gic>;
  ranges;

  gic: interrupt-controller@1400000 {
   compatible = "arm,gic-400", "arm,cortex-a7-gic";
   #interrupt-cells = <3>;
   interrupt-controller;
   reg = <0x0 0x1401000 0x0 0x1000>,
         <0x0 0x1402000 0x0 0x2000>,
         <0x0 0x1404000 0x0 0x2000>,
         <0x0 0x1406000 0x0 0x2000>;
   interrupts = <1 9 ((((1 << (2)) - 1) << 8) | 4)>;

  };

  msi1: msi-controller@1570e00 {
   compatible = "fsl,ls1021a-msi";
   reg = <0x0 0x1570e00 0x0 0x8>;
   msi-controller;
   interrupts = <0 179 4>;
  };

  msi2: msi-controller@1570e08 {
   compatible = "fsl,ls1021a-msi";
   reg = <0x0 0x1570e08 0x0 0x8>;
   msi-controller;
   interrupts = <0 180 4>;
  };

  ifc: ifc@1530000 {
   compatible = "fsl,ifc", "simple-bus";
   reg = <0x0 0x1530000 0x0 0x10000>;
   interrupts = <0 75 4>;
  };

  dcfg: dcfg@1ee0000 {
   compatible = "fsl,ls1021a-dcfg", "syscon";
   reg = <0x0 0x1ee0000 0x0 0x10000>;
   big-endian;
  };

  esdhc: esdhc@1560000 {
   compatible = "fsl,ls1021a-esdhc", "fsl,esdhc";
   reg = <0x0 0x1560000 0x0 0x10000>;
   interrupts = <0 94 4>;
   clock-frequency = <0>;
   voltage-ranges = <1800 1800 3300 3300>;
   sdhci,auto-cmd12;
   big-endian;
   bus-width = <4>;
   status = "disabled";
  };

  sata: sata@3200000 {
   compatible = "fsl,ls1021a-ahci";
   reg = <0x0 0x3200000 0x0 0x10000>,
         <0x0 0x20220520 0x0 0x4>;
   reg-names = "ahci", "sata-ecc";
   interrupts = <0 101 4>;
   clocks = <&clockgen 4 1>;
   dma-coherent;
   status = "disabled";
  };

  scfg: scfg@1570000 {
   compatible = "fsl,ls1021a-scfg", "syscon";
   reg = <0x0 0x1570000 0x0 0x10000>;
   big-endian;
  };

  crypto: crypto@1700000 {
   compatible = "fsl,sec-v5.0", "fsl,sec-v4.0";
   fsl,sec-era = <7>;
   #address-cells = <1>;
   #size-cells = <1>;
   reg = <0x0 0x1700000 0x0 0x100000>;
   ranges = <0x0 0x0 0x1700000 0x100000>;
   interrupts = <0 107 4>;

   sec_jr0: jr@10000 {
    compatible = "fsl,sec-v5.0-job-ring",
         "fsl,sec-v4.0-job-ring";
    reg = <0x10000 0x10000>;
    interrupts = <0 103 4>;
   };

   sec_jr1: jr@20000 {
    compatible = "fsl,sec-v5.0-job-ring",
         "fsl,sec-v4.0-job-ring";
    reg = <0x20000 0x10000>;
    interrupts = <0 104 4>;
   };

   sec_jr2: jr@30000 {
    compatible = "fsl,sec-v5.0-job-ring",
         "fsl,sec-v4.0-job-ring";
    reg = <0x30000 0x10000>;
    interrupts = <0 105 4>;
   };

   sec_jr3: jr@40000 {
    compatible = "fsl,sec-v5.0-job-ring",
         "fsl,sec-v4.0-job-ring";
    reg = <0x40000 0x10000>;
    interrupts = <0 106 4>;
   };

  };

  clockgen: clocking@1ee1000 {
   compatible = "fsl,ls1021a-clockgen";
   reg = <0x0 0x1ee1000 0x0 0x1000>;
   #clock-cells = <2>;
   clocks = <&sysclk>;
  };

  tmu: tmu@1f00000 {
   compatible = "fsl,qoriq-tmu";
   reg = <0x0 0x1f00000 0x0 0x10000>;
   interrupts = <0 61 4>;
   fsl,tmu-range = <0xb0000 0xa0026 0x80048 0x30061>;
   fsl,tmu-calibration = <0x00000000 0x0000000f
            0x00000001 0x00000017
            0x00000002 0x0000001e
            0x00000003 0x00000026
            0x00000004 0x0000002e
            0x00000005 0x00000035
            0x00000006 0x0000003d
            0x00000007 0x00000044
            0x00000008 0x0000004c
            0x00000009 0x00000053
            0x0000000a 0x0000005b
            0x0000000b 0x00000064

            0x00010000 0x00000011
            0x00010001 0x0000001c
            0x00010002 0x00000024
            0x00010003 0x0000002b
            0x00010004 0x00000034
            0x00010005 0x00000039
            0x00010006 0x00000042
            0x00010007 0x0000004c
            0x00010008 0x00000051
            0x00010009 0x0000005a
            0x0001000a 0x00000063

            0x00020000 0x00000013
            0x00020001 0x00000019
            0x00020002 0x00000024
            0x00020003 0x0000002c
            0x00020004 0x00000035
            0x00020005 0x0000003d
            0x00020006 0x00000046
            0x00020007 0x00000050
            0x00020008 0x00000059

            0x00030000 0x00000002
            0x00030001 0x0000000d
            0x00030002 0x00000019
            0x00030003 0x00000024>;
   #thermal-sensor-cells = <1>;
  };

  thermal-zones {
   cpu_thermal: cpu-thermal {
    polling-delay-passive = <1000>;
    polling-delay = <5000>;

    thermal-sensors = <&tmu 0>;

    trips {
     cpu_alert: cpu-alert {
      temperature = <85000>;
      hysteresis = <2000>;
      type = "passive";
     };
     cpu_crit: cpu-crit {
      temperature = <95000>;
      hysteresis = <2000>;
      type = "critical";
     };
    };

    cooling-maps {
     map0 {
      trip = <&cpu_alert>;
      cooling-device =
       <&cpu0 (~0)
       (~0)>;
     };
    };
   };
  };

  dspi0: dspi@2100000 {
   compatible = "fsl,ls1021a-v1.0-dspi";
   #address-cells = <1>;
   #size-cells = <0>;
   reg = <0x0 0x2100000 0x0 0x10000>;
   interrupts = <0 96 4>;
   clock-names = "dspi";
   clocks = <&clockgen 4 1>;
   spi-num-chipselects = <6>;
   big-endian;
   status = "disabled";
  };

  dspi1: dspi@2110000 {
   compatible = "fsl,ls1021a-v1.0-dspi";
   #address-cells = <1>;
   #size-cells = <0>;
   reg = <0x0 0x2110000 0x0 0x10000>;
   interrupts = <0 97 4>;
   clock-names = "dspi";
   clocks = <&clockgen 4 1>;
   spi-num-chipselects = <6>;
   big-endian;
   status = "disabled";
  };

  i2c0: i2c@2180000 {
   compatible = "fsl,vf610-i2c";
   #address-cells = <1>;
   #size-cells = <0>;
   reg = <0x0 0x2180000 0x0 0x10000>;
   interrupts = <0 88 4>;
   clock-names = "i2c";
   clocks = <&clockgen 4 1>;
   status = "disabled";
  };

  i2c1: i2c@2190000 {
   compatible = "fsl,vf610-i2c";
   #address-cells = <1>;
   #size-cells = <0>;
   reg = <0x0 0x2190000 0x0 0x10000>;
   interrupts = <0 89 4>;
   clock-names = "i2c";
   clocks = <&clockgen 4 1>;
   status = "disabled";
  };

  i2c2: i2c@21a0000 {
   compatible = "fsl,vf610-i2c";
   #address-cells = <1>;
   #size-cells = <0>;
   reg = <0x0 0x21a0000 0x0 0x10000>;
   interrupts = <0 90 4>;
   clock-names = "i2c";
   clocks = <&clockgen 4 1>;
   status = "disabled";
  };

  uart0: serial@21c0500 {
   compatible = "fsl,16550-FIFO64", "ns16550a";
   reg = <0x0 0x21c0500 0x0 0x100>;
   interrupts = <0 86 4>;
   clock-frequency = <0>;
   fifo-size = <15>;
   status = "disabled";
  };

  uart1: serial@21c0600 {
   compatible = "fsl,16550-FIFO64", "ns16550a";
   reg = <0x0 0x21c0600 0x0 0x100>;
   interrupts = <0 86 4>;
   clock-frequency = <0>;
   fifo-size = <15>;
   status = "disabled";
  };

  uart2: serial@21d0500 {
   compatible = "fsl,16550-FIFO64", "ns16550a";
   reg = <0x0 0x21d0500 0x0 0x100>;
   interrupts = <0 87 4>;
   clock-frequency = <0>;
   fifo-size = <15>;
   status = "disabled";
  };

  uart3: serial@21d0600 {
   compatible = "fsl,16550-FIFO64", "ns16550a";
   reg = <0x0 0x21d0600 0x0 0x100>;
   interrupts = <0 87 4>;
   clock-frequency = <0>;
   fifo-size = <15>;
   status = "disabled";
  };

  gpio0: gpio@2300000 {
   compatible = "fsl,ls1021a-gpio", "fsl,qoriq-gpio";
   reg = <0x0 0x2300000 0x0 0x10000>;
   interrupts = <0 98 4>;
   gpio-controller;
   #gpio-cells = <2>;
   interrupt-controller;
   #interrupt-cells = <2>;
  };

  gpio1: gpio@2310000 {
   compatible = "fsl,ls1021a-gpio", "fsl,qoriq-gpio";
   reg = <0x0 0x2310000 0x0 0x10000>;
   interrupts = <0 99 4>;
   gpio-controller;
   #gpio-cells = <2>;
   interrupt-controller;
   #interrupt-cells = <2>;
  };

  gpio2: gpio@2320000 {
   compatible = "fsl,ls1021a-gpio", "fsl,qoriq-gpio";
   reg = <0x0 0x2320000 0x0 0x10000>;
   interrupts = <0 100 4>;
   gpio-controller;
   #gpio-cells = <2>;
   interrupt-controller;
   #interrupt-cells = <2>;
  };

  gpio3: gpio@2330000 {
   compatible = "fsl,ls1021a-gpio", "fsl,qoriq-gpio";
   reg = <0x0 0x2330000 0x0 0x10000>;
   interrupts = <0 166 4>;
   gpio-controller;
   #gpio-cells = <2>;
   interrupt-controller;
   #interrupt-cells = <2>;
  };

  lpuart0: serial@2950000 {
   compatible = "fsl,ls1021a-lpuart";
   reg = <0x0 0x2950000 0x0 0x1000>;
   interrupts = <0 80 4>;
   clocks = <&sysclk>;
   clock-names = "ipg";
   status = "disabled";
  };

  lpuart1: serial@2960000 {
   compatible = "fsl,ls1021a-lpuart";
   reg = <0x0 0x2960000 0x0 0x1000>;
   interrupts = <0 81 4>;
   clocks = <&clockgen 4 1>;
   clock-names = "ipg";
   status = "disabled";
  };

  lpuart2: serial@2970000 {
   compatible = "fsl,ls1021a-lpuart";
   reg = <0x0 0x2970000 0x0 0x1000>;
   interrupts = <0 82 4>;
   clocks = <&clockgen 4 1>;
   clock-names = "ipg";
   status = "disabled";
  };

  lpuart3: serial@2980000 {
   compatible = "fsl,ls1021a-lpuart";
   reg = <0x0 0x2980000 0x0 0x1000>;
   interrupts = <0 83 4>;
   clocks = <&clockgen 4 1>;
   clock-names = "ipg";
   status = "disabled";
  };

  lpuart4: serial@2990000 {
   compatible = "fsl,ls1021a-lpuart";
   reg = <0x0 0x2990000 0x0 0x1000>;
   interrupts = <0 84 4>;
   clocks = <&clockgen 4 1>;
   clock-names = "ipg";
   status = "disabled";
  };

  lpuart5: serial@29a0000 {
   compatible = "fsl,ls1021a-lpuart";
   reg = <0x0 0x29a0000 0x0 0x1000>;
   interrupts = <0 85 4>;
   clocks = <&clockgen 4 1>;
   clock-names = "ipg";
   status = "disabled";
  };

  wdog0: watchdog@2ad0000 {
   compatible = "fsl,imx21-wdt";
   reg = <0x0 0x2ad0000 0x0 0x10000>;
   interrupts = <0 115 4>;
   clocks = <&clockgen 4 1>;
   clock-names = "wdog-en";
   big-endian;
  };

  sai1: sai@2b50000 {
   #sound-dai-cells = <0>;
   compatible = "fsl,vf610-sai";
   reg = <0x0 0x2b50000 0x0 0x10000>;
   interrupts = <0 132 4>;
   clocks = <&clockgen 4 1>, <&clockgen 4 1>,
     <&clockgen 4 1>, <&clockgen 4 1>;
   clock-names = "bus", "mclk1", "mclk2", "mclk3";
   dma-names = "tx", "rx";
   dmas = <&edma0 1 47>,
          <&edma0 1 46>;
   status = "disabled";
  };

  sai2: sai@2b60000 {
   #sound-dai-cells = <0>;
   compatible = "fsl,vf610-sai";
   reg = <0x0 0x2b60000 0x0 0x10000>;
   interrupts = <0 133 4>;
   clocks = <&clockgen 4 1>, <&clockgen 4 1>,
     <&clockgen 4 1>, <&clockgen 4 1>;
   clock-names = "bus", "mclk1", "mclk2", "mclk3";
   dma-names = "tx", "rx";
   dmas = <&edma0 1 45>,
          <&edma0 1 44>;
   status = "disabled";
  };

  edma0: edma@2c00000 {
   #dma-cells = <2>;
   compatible = "fsl,vf610-edma";
   reg = <0x0 0x2c00000 0x0 0x10000>,
         <0x0 0x2c10000 0x0 0x10000>,
         <0x0 0x2c20000 0x0 0x10000>;
   interrupts = <0 135 4>,
         <0 135 4>;
   interrupt-names = "edma-tx", "edma-err";
   dma-channels = <32>;
   big-endian;
   clock-names = "dmamux0", "dmamux1";
   clocks = <&clockgen 4 1>,
     <&clockgen 4 1>;
  };

  dcu: dcu@2ce0000 {
   compatible = "fsl,ls1021a-dcu";
   reg = <0x0 0x2ce0000 0x0 0x10000>;
   interrupts = <0 172 4>;
   clocks = <&clockgen 4 0>,
    <&clockgen 4 0>;
   clock-names = "dcu", "pix";
   big-endian;
   status = "disabled";
  };

  mdio0: mdio@2d24000 {
   compatible = "gianfar";
   device_type = "mdio";
   #address-cells = <1>;
   #size-cells = <0>;
   reg = <0x0 0x2d24000 0x0 0x4000>;
  };

  mdio1: mdio@2d64000 {
   compatible = "gianfar";
   device_type = "mdio";
   #address-cells = <1>;
   #size-cells = <0>;
   reg = <0x0 0x2d64000 0x0 0x4000>,
         <0x0 0x2d50030 0x0 0x4>;
  };

  ptp_clock@2d10e00 {
   compatible = "fsl,etsec-ptp";
   reg = <0x0 0x2d10e00 0x0 0xb0>;
   interrupts = <0 173 4>;
   fsl,tclk-period = <5>;
   fsl,tmr-prsc = <2>;
   fsl,tmr-add = <0xaaaaaaab>;
   fsl,tmr-fiper1 = <999999990>;
   fsl,tmr-fiper2 = <99990>;
   fsl,max-adj = <499999999>;
  };

  enet0: ethernet@2d10000 {
   compatible = "fsl,etsec2";
   device_type = "network";
   #address-cells = <2>;
   #size-cells = <2>;
   interrupt-parent = <&gic>;
   model = "eTSEC";
   fsl,magic-packet;
   ranges;
   dma-coherent;

   queue-group@2d10000 {
    #address-cells = <2>;
    #size-cells = <2>;
    reg = <0x0 0x2d10000 0x0 0x1000>;
    interrupts = <0 144 4>,
     <0 145 4>,
     <0 146 4>;
   };

   queue-group@2d14000 {
    #address-cells = <2>;
    #size-cells = <2>;
    reg = <0x0 0x2d14000 0x0 0x1000>;
    interrupts = <0 147 4>,
     <0 148 4>,
     <0 149 4>;
   };
  };

  enet1: ethernet@2d50000 {
   compatible = "fsl,etsec2";
   device_type = "network";
   #address-cells = <2>;
   #size-cells = <2>;
   interrupt-parent = <&gic>;
   model = "eTSEC";
   ranges;
   dma-coherent;

   queue-group@2d50000 {
    #address-cells = <2>;
    #size-cells = <2>;
    reg = <0x0 0x2d50000 0x0 0x1000>;
    interrupts = <0 150 4>,
     <0 152 4>,
     <0 153 4>;
   };

   queue-group@2d54000 {
    #address-cells = <2>;
    #size-cells = <2>;
    reg = <0x0 0x2d54000 0x0 0x1000>;
    interrupts = <0 154 4>,
     <0 155 4>,
     <0 156 4>;
   };
  };

  enet2: ethernet@2d90000 {
   compatible = "fsl,etsec2";
   device_type = "network";
   #address-cells = <2>;
   #size-cells = <2>;
   interrupt-parent = <&gic>;
   model = "eTSEC";
   ranges;
   dma-coherent;

   queue-group@2d90000 {
    #address-cells = <2>;
    #size-cells = <2>;
    reg = <0x0 0x2d90000 0x0 0x1000>;
    interrupts = <0 157 4>,
     <0 158 4>,
     <0 159 4>;
   };

   queue-group@2d94000 {
    #address-cells = <2>;
    #size-cells = <2>;
    reg = <0x0 0x2d94000 0x0 0x1000>;
    interrupts = <0 160 4>,
     <0 161 4>,
     <0 162 4>;
   };
  };

  usb@8600000 {
   compatible = "fsl-usb2-dr-v2.5", "fsl-usb2-dr";
   reg = <0x0 0x8600000 0x0 0x1000>;
   interrupts = <0 171 4>;
   dr_mode = "host";
   phy_type = "ulpi";
  };

  usb3@3100000 {
   compatible = "snps,dwc3";
   reg = <0x0 0x3100000 0x0 0x10000>;
   interrupts = <0 93 4>;
   dr_mode = "host";
   snps,quirk-frame-length-adjustment = <0x20>;
   snps,dis_rxdet_inp3_quirk;
  };

  pcie@3400000 {
   compatible = "fsl,ls1021a-pcie", "snps,dw-pcie";
   reg = <0x00 0x03400000 0x0 0x00010000
          0x40 0x00000000 0x0 0x00002000>;
   reg-names = "regs", "config";
   interrupts = <0 177 4>;
   fsl,pcie-scfg = <&scfg 0>;
   #address-cells = <3>;
   #size-cells = <2>;
   device_type = "pci";
   num-lanes = <4>;
   bus-range = <0x0 0xff>;
   ranges = <0x81000000 0x0 0x00000000 0x40 0x00010000 0x0 0x00010000
      0x82000000 0x0 0x40000000 0x40 0x40000000 0x0 0x40000000>;
   msi-parent = <&msi1>, <&msi2>;
   #interrupt-cells = <1>;
   interrupt-map-mask = <0 0 0 7>;
   interrupt-map = <0000 0 0 1 &gic 0 91 4>,
     <0000 0 0 2 &gic 0 188 4>,
     <0000 0 0 3 &gic 0 190 4>,
     <0000 0 0 4 &gic 0 192 4>;
  };

  pcie@3500000 {
   compatible = "fsl,ls1021a-pcie", "snps,dw-pcie";
   reg = <0x00 0x03500000 0x0 0x00010000
          0x48 0x00000000 0x0 0x00002000>;
   reg-names = "regs", "config";
   interrupts = <0 178 4>;
   fsl,pcie-scfg = <&scfg 1>;
   #address-cells = <3>;
   #size-cells = <2>;
   device_type = "pci";
   num-lanes = <4>;
   bus-range = <0x0 0xff>;
   ranges = <0x81000000 0x0 0x00000000 0x48 0x00010000 0x0 0x00010000
      0x82000000 0x0 0x40000000 0x48 0x40000000 0x0 0x40000000>;
   msi-parent = <&msi1>, <&msi2>;
   #interrupt-cells = <1>;
   interrupt-map-mask = <0 0 0 7>;
   interrupt-map = <0000 0 0 1 &gic 0 92 4>,
     <0000 0 0 2 &gic 0 189 4>,
     <0000 0 0 3 &gic 0 191 4>,
     <0000 0 0 4 &gic 0 193 4>;
  };
 };
};
# 50 "arch/arm/boot/dts/ls1021a-qds.dts" 2

/ {
 model = "LS1021A QDS Board";

 aliases {
  enet0_rgmii_phy = &rgmii_phy1;
  enet1_rgmii_phy = &rgmii_phy2;
  enet2_rgmii_phy = &rgmii_phy3;
  enet0_sgmii_phy = &sgmii_phy1c;
  enet1_sgmii_phy = &sgmii_phy1d;
 };

 sys_mclk: clock-mclk {
  compatible = "fixed-clock";
  #clock-cells = <0>;
  clock-frequency = <24576000>;
 };

 regulators {
  compatible = "simple-bus";
  #address-cells = <1>;
  #size-cells = <0>;

  reg_3p3v: regulator@0 {
   compatible = "regulator-fixed";
   reg = <0>;
   regulator-name = "3P3V";
   regulator-min-microvolt = <3300000>;
   regulator-max-microvolt = <3300000>;
   regulator-always-on;
  };
 };

 sound {
  compatible = "simple-audio-card";
  simple-audio-card,format = "i2s";
  simple-audio-card,widgets =
   "Microphone", "Microphone Jack",
   "Headphone", "Headphone Jack",
   "Speaker", "Speaker Ext",
   "Line", "Line In Jack";
  simple-audio-card,routing =
   "MIC_IN", "Microphone Jack",
   "Microphone Jack", "Mic Bias",
   "LINE_IN", "Line In Jack",
   "Headphone Jack", "HP_OUT",
   "Speaker Ext", "LINE_OUT";

  simple-audio-card,cpu {
   sound-dai = <&sai2>;
   frame-master;
   bitclock-master;
  };

  simple-audio-card,codec {
   sound-dai = <&codec>;
   frame-master;
   bitclock-master;
  };
 };
};

&dspi0 {
 bus-num = <0>;
 status = "okay";

 dspiflash: at45db021d@0 {
  #address-cells = <1>;
  #size-cells = <1>;
  compatible = "atmel,at45db021d", "atmel,at45", "atmel,dataflash";
  spi-max-frequency = <16000000>;
  spi-cpol;
  spi-cpha;
  reg = <0>;
 };
};

&enet0 {
 tbi-handle = <&tbi0>;
 phy-handle = <&sgmii_phy1c>;
 phy-connection-type = "sgmii";
 status = "okay";
};

&enet1 {
 tbi-handle = <&tbi0>;
 phy-handle = <&sgmii_phy1d>;
 phy-connection-type = "sgmii";
 status = "okay";
};

&enet2 {
 phy-handle = <&rgmii_phy3>;
 phy-connection-type = "rgmii-id";
 status = "okay";
};

&i2c0 {
 status = "okay";

 pca9547: mux@77 {
  compatible = "nxp,pca9547";
  reg = <0x77>;
  #address-cells = <1>;
  #size-cells = <0>;

  i2c@0 {
   #address-cells = <1>;
   #size-cells = <0>;
   reg = <0x0>;

   ds3232: rtc@68 {
    compatible = "dallas,ds3232";
    reg = <0x68>;
    interrupts = <0 169 4>;
   };
  };

  i2c@2 {
   #address-cells = <1>;
   #size-cells = <0>;
   reg = <0x2>;

   ina220@40 {
    compatible = "ti,ina220";
    reg = <0x40>;
    shunt-resistor = <1000>;
   };

   ina220@41 {
    compatible = "ti,ina220";
    reg = <0x41>;
    shunt-resistor = <1000>;
   };
  };

  i2c@3 {
   #address-cells = <1>;
   #size-cells = <0>;
   reg = <0x3>;

   eeprom@56 {
    compatible = "atmel,24c512";
    reg = <0x56>;
   };

   eeprom@57 {
    compatible = "atmel,24c512";
    reg = <0x57>;
   };

   adt7461a@4c {
    compatible = "adi,adt7461a";
    reg = <0x4c>;
   };
  };

  i2c@4 {
   #address-cells = <1>;
   #size-cells = <0>;
   reg = <0x4>;

   codec: sgtl5000@2a {
    #sound-dai-cells = <0>;
    compatible = "fsl,sgtl5000";
    reg = <0x2a>;
    VDDA-supply = <&reg_3p3v>;
    VDDIO-supply = <&reg_3p3v>;
    clocks = <&sys_mclk>;
   };
  };
 };
};

&ifc {
 #address-cells = <2>;
 #size-cells = <1>;

 ranges = <0x0 0x0 0x0 0x60000000 0x08000000
    0x2 0x0 0x0 0x7e800000 0x00010000
    0x3 0x0 0x0 0x7fb00000 0x00000100>;
 status = "okay";

 nor@0,0 {
  #address-cells = <1>;
  #size-cells = <1>;
  compatible = "cfi-flash";
  reg = <0x0 0x0 0x8000000>;
  bank-width = <2>;
  device-width = <1>;
 };

 fpga: board-control@3,0 {
  #address-cells = <1>;
  #size-cells = <1>;
  compatible = "simple-bus";
  reg = <0x3 0x0 0x0000100>;
  bank-width = <1>;
  device-width = <1>;
  ranges = <0 3 0 0x100>;

  mdio-mux-emi1 {
   compatible = "mdio-mux-mmioreg";
   mdio-parent-bus = <&mdio0>;
   #address-cells = <1>;
   #size-cells = <0>;
   reg = <0x54 1>;
   mux-mask = <0xe0>;


   ls1021amdio0: mdio@0 {
    reg = <0>;
    #address-cells = <1>;
    #size-cells = <0>;
    rgmii_phy1: ethernet-phy@1 {
     reg = <0x1>;
    };
   };

   ls1021amdio1: mdio@20 {
    reg = <0x20>;
    #address-cells = <1>;
    #size-cells = <0>;
    rgmii_phy2: ethernet-phy@2 {
     reg = <0x2>;
    };
   };

   ls1021amdio2: mdio@40 {
    reg = <0x40>;
    #address-cells = <1>;
    #size-cells = <0>;
    rgmii_phy3: ethernet-phy@3 {
     reg = <0x3>;
    };
   };

   ls1021amdio3: mdio@60 {
    reg = <0x60>;
    #address-cells = <1>;
    #size-cells = <0>;
    sgmii_phy1c: ethernet-phy@1c {
     reg = <0x1c>;
    };
   };

   ls1021amdio4: mdio@80 {
    reg = <0x80>;
    #address-cells = <1>;
    #size-cells = <0>;
    sgmii_phy1d: ethernet-phy@1d {
     reg = <0x1d>;
    };
   };
  };
 };
};

&lpuart0 {
 status = "okay";
};

&mdio0 {
 tbi0: tbi-phy@8 {
  reg = <0x8>;
  device_type = "tbi-phy";
 };
};

&sai2 {
 status = "okay";
};

&sata {
 status = "okay";
};

&uart0 {
 status = "okay";
};

&uart1 {
 status = "okay";
};
